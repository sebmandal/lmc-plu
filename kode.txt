START			INP
			STA PLU
			BRZ END
			BRA GETCOUNT


GETCOUNT		INP
			STA COUNT

			BRP SETPRICE

			LDA SETCOUNTERROR
			OUT
			BRA GETCOUNT


SETPRICE		LDA PLU
			SUB 405
			BRZ CHECKCOUNT405

			LDA PLU
			SUB 307
			BRZ CHECKCOUNT307

			LDA PLU
			SUB 303
			BRZ CHECKCOUNT303

			LDA SETPLUERROR
			OUT
			BRA START


CHECKCOUNT405		LDA S405
			SUB COUNT
			BRP SET405
			LDA SETSTOCKERROR
			OUT
			BRA GETCOUNT


CHECKCOUNT307		LDA S307
			SUB COUNT
			BRP SET307
			LDA SETSTOCKERROR
			OUT
			BRA GETCOUNT


CHECKCOUNT303		LDA S303
			SUB COUNT
			BRP SET303
			LDA SETSTOCKERROR
			OUT
			BRA GETCOUNT


SET405			LDA P405
			STA PRICE
			BRA MULT


SET307			LDA P307
			STA PRICE
			BRA MULT


SET303			LDA P303
			STA PRICE
			BRA MULT


MULT			LDA COUNT
			BRZ START

			LDA TOTAL
			ADD PRICE
			STA TOTAL

			LDA COUNT
			SUB ONE
			STA COUNT

			BRA MULT


END			LDA TOTAL
			OUT


PLU			DAT 0
PRICE			DAT 0
COUNT			DAT 0
TOTAL			DAT 0

405			DAT 405
P405			DAT 5
S405			DAT 8

307			DAT 307
P307			DAT 7
S307			DAT 5

303			DAT 303
P303			DAT 9
S303			DAT 10

ZER			DAT 0
ONE			DAT 1

SETPLUERROR		DAT -501
SETCOUNTERROR		DAT -502
SETSTOCKERROR		DAT -503

# IFI_BRUKER		DAT swmandal